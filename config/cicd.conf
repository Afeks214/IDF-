# IDF Testing Infrastructure - CI/CD Configuration
# Military-grade deployment configuration for automated pipeline

# Environment Settings
ENVIRONMENT="staging"
TARGET_ENVIRONMENT="production"

# Registry and Repository Settings
REGISTRY="ghcr.io/idf-testing"
REPOSITORY_NAME="idf-testing"
IMAGE_TAG_PREFIX="v"

# Kubernetes Configuration
NAMESPACE="idf-testing"
CLUSTER_NAME="idf-testing-cluster"
KUBECTL_CONFIG_PATH="~/.kube/config"

# Security Settings
ENABLE_SECURITY_SCAN="true"
ENABLE_VULNERABILITY_SCAN="true"
ENABLE_SECRETS_DETECTION="true"
ENABLE_COMPLIANCE_CHECK="true"
SECURITY_SCAN_TIMEOUT="600"

# Testing Configuration
ENABLE_UNIT_TESTS="true"
ENABLE_INTEGRATION_TESTS="true"
ENABLE_PERFORMANCE_TEST="true"
ENABLE_SMOKE_TESTS="true"
ENABLE_E2E_TESTS="true"

# Performance Testing
LOAD_TEST_USERS="10"
LOAD_TEST_SPAWN_RATE="2"
LOAD_TEST_DURATION="300"
PERFORMANCE_THRESHOLD_RESPONSE_TIME="2000"
PERFORMANCE_THRESHOLD_ERROR_RATE="1"

# Build Configuration
DOCKER_BUILDKIT="1"
COMPOSE_DOCKER_CLI_BUILD="1"
BUILD_TIMEOUT="1800"
ENABLE_PARALLEL_BUILDS="true"

# Deployment Configuration
DEPLOYMENT_STRATEGY="blue-green"
ENABLE_ROLLBACK="true"
ROLLBACK_TIMEOUT="300"
HEALTH_CHECK_TIMEOUT="300"
ENABLE_CANARY_DEPLOYMENT="false"
CANARY_PERCENTAGE="10"

# Monitoring and Alerting
ENABLE_MONITORING="true"
PROMETHEUS_ENDPOINT="http://prometheus:9090"
GRAFANA_ENDPOINT="http://grafana:3000"
ALERTMANAGER_ENDPOINT="http://alertmanager:9093"

# Notification Settings
SLACK_WEBHOOK_URL=""
DISCORD_WEBHOOK_URL=""
EMAIL_NOTIFICATIONS="true"
EMAIL_RECIPIENTS="ops-team@idf-testing.mil.il"

# Backup and Recovery
ENABLE_PRE_DEPLOYMENT_BACKUP="true"
BACKUP_RETENTION_DAYS="30"
BACKUP_COMPRESSION="true"
BACKUP_ENCRYPTION="true"

# Compliance and Audit
ENABLE_AUDIT_LOGGING="true"
AUDIT_LOG_RETENTION_DAYS="90"
ENABLE_COMPLIANCE_REPORTING="true"
COMPLIANCE_STANDARDS="ISO27001,GDPR,IDF-SEC"

# Resource Limits
MAX_CPU_USAGE="80"
MAX_MEMORY_USAGE="80"
MAX_DISK_USAGE="80"
MAX_NETWORK_USAGE="80"

# Retry and Timeout Settings
MAX_RETRY_ATTEMPTS="3"
RETRY_DELAY="30"
OPERATION_TIMEOUT="1800"
HEALTH_CHECK_INTERVAL="30"

# Feature Flags
ENABLE_BLUE_GREEN_DEPLOYMENT="true"
ENABLE_PROGRESSIVE_DEPLOYMENT="false"
ENABLE_AUTOMATIC_ROLLBACK="true"
ENABLE_DEPLOYMENT_APPROVAL="true"
ENABLE_STAGING_VALIDATION="true"

# Database Migration
ENABLE_DATABASE_MIGRATION="true"
MIGRATION_TIMEOUT="600"
ENABLE_MIGRATION_ROLLBACK="true"
MIGRATION_BACKUP="true"

# Quality Gates
CODE_COVERAGE_THRESHOLD="80"
SECURITY_SCAN_THRESHOLD="HIGH"
PERFORMANCE_DEGRADATION_THRESHOLD="10"
COMPLIANCE_SCORE_THRESHOLD="90"

# Logging and Debugging
LOG_LEVEL="INFO"
ENABLE_DEBUG_MODE="false"
LOG_RETENTION_DAYS="30"
ENABLE_VERBOSE_LOGGING="false"